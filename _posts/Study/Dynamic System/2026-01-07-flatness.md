---
title: Flatness
description: Summary of Flatness
date: 2026-01-07 21:00:00
categories: [Study, Dynamic System]
author: PythonToGo
tags: [Dynamic System, Flatness, Flat Systems, Heuristic, Flatness-Based]
# pin: true
math: true
mermaid: true
comments: true
image: 
#     # type: pdf
    path: assets/img/posts/study-ds/ch8_front.png

#     # page: 7
#     alt: 
---
{% include pdf-viewer.html %}

# 들어가기 전에... 왜 비선형 시스템은 이렇게 어려울까?

<div class="pdf-viewer-container" data-pdf="/assets/img/posts/study-ds/ds8.pdf" data-page="2"></div>


그럼 여기서 우리는 이런 질문을 할 수 있다. 

**How can we design controllers that are exact, predictable, and robust over a wide operating range without the limitations of local approximations?**

이 질문의 답이 바로 Flat!

<div class="pdf-viewer-container" data-pdf="/assets/img/posts/study-ds/ds8.pdf" data-page="3"></div>


# Flatness

**Flatness**는 non-linear system이 적절한 coordinate transformation을 통해 선형공간에서의 linear system으로 표현될 수 있다는 개념에서 출발하고, 특히 시스템의 Controllability(가도달성)과 Trajectory Planning(궤적 계획)과 밀접한 관련이 있다. 

## Flat Systems


### Flatness Definition

어떤 시스템 $$\dot{x} = f(x, u)$$ 와 출력 $$y = \Psi_y (x, u, \dot{u}, ..., u^{(\alpha)})$$ 에 대해 $$\text{dim}(y) = \text{dim}(u)$$ 를 만족할때, 다음의 유일한 표현식이 존재하면 이 시스템을 **Differentially Flat**하다고 정의한다.

- **State Variables** : $$x = \left( y, \dot{y}, ... , y^{(\gamma - 1)} \right)$$
- **Input Variables** : $$u = \Psi_u \left( y, \dot{y}, ... , y^{(\gamma)} \right)$$

여기서 $$\alpha$$ 와 $$\gamma$$ 는 유한한 미분 횟수를 의미한다. 시스템의 모든 변수가 **Flat Output $$y$$** 에 의해 결정되기때문에, 이를 **시스템이 $$y$$ 에 의해 Parameterized** 되었다고 한다.

> ## Flatness
>
> The system $$\dot{x} = f(x, u)$$ with output $$y= \Psi_y (x, u, \dot{u}, ..., u^{(\alpha)})$$ and $$\text{dim}(y) = \text{dim}(y)$$ is **flat**, if the following unique representations of $x$ and $u$ exist:
>
> - $$x = \Psi_x \left( y, \dot{y}, ... , y^{(\gamma - 1)} \right)$$
> - $$u = \Psi_u \left( y, \dot{y}, ... , y^{(\gamma)} \right)$$
>
> with $$\alpha, \gamma < \infty$$ (finite numbers of derivatives).
>
>
> $$\rightarrow$$ The output $$y$$ is then called a **flat output**.
{: .prompt-tip}


### Eigenschaften

- **Controllability and Reachability** : 모든 Flat System은 두 가지를 모두 가진다.
- **Linearization** : 이런 시스템은 **Static** 또는 **Dynamic State Feedback**을 통해 항상 선형화 될 수 있다.
- **Equilibria Analysis** : 평형점(EP) $$x^*, u^*$$ 를 구할 때, 복잡한 방정식을 풀 필요 없이, $$y = y*$$ 이고, 그 이상의 미분항이 0이라는 조건만으로 $$x^* = \tilde{\Psi}_1(y^*), u^* = \tilde{\Psi}_2(y^*) $$ 와 같이 쉽게 파라미터화 할 수 있다. 


## Flatness Analysis - 시스템 분석 및 출력 결정

시스템이 flat한지 판단하는 일반적인 필요충분조건은 아직 없다(!). 하지만 주로 Heuristic 기법을 사용한다. (~~사실 휴리스틱은 그냥 어찌저찌해서 노가다해보니 뭔가 맞았다 의 느낌이 강하다. 경험치느낌쓰~~)

![Heuristic](assets/img/posts/study-ds/ds8_heuristic.png)
